<html xmlns:th="http://www.thymeleaf.org">

<style>
	.simplmargin { margin: 0 0 15px }
	.zeromargin { margin: 0 }
	.tlabel { width: 140px; background-color: #f7f7f7; vertical-align: middle;}
	.tlabel.required:after { content : " *"; color: red; }
	.tvalue { min-width: 120px; max-width: 150px; }
	.tdnum { width: 120px; }
	.tdval { min-width: 120px; max-width: 150px; }
	.tdscore { width: 120px; }
	.tdsource { width: 250px; }
	.table-fixed { max-height: 250px; overflow-y: auto; }
	input.error, textarea.error { border:1px dashed red; }
	label.error{ display:block; color:red; }
	input.fill { width: 100%; }
	.table>tbody>tr>td, .table>tbody>tr>th { vertical-align: middle !important; }
</style>

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <h4 class="modal-title" id="myModalLabel">Schedule Infomation</h4>
</div>

<div class="modal-body">
	<form id="saveForm" name="saveForm" method="post">	
	    <div class="row">
	    	<article class="col-sm-12">    		
	    		<div class="jarviswidget jarviswidget-color-blueDark simplmargin" id="wid-id-schedule-head" data-widget-colorbutton="false" data-widget-editbutton="false">    		
	    			<header>
						<span class="widget-icon"> <i class="fa fa-info"></i> </span>
						<h2>Schedule Infomation</h2>
					</header>	
								
					<div>
						<div class="widget-body no-padding">
							<table id="scheduleInfo" class="table table-bordered" style="clear: both">
								<tbody>
									<tr>
										<td class="tlabel required">ScheduleName</td>
										<td class="tvalue" colspan="5">
											<input type="hidden" id="id" name="id" value="0"/>
											<input type="text" id="scheduleName" name="scheduleName" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">Week</td>
										<td class="tvalue"><input type="text" id="week" name="week" class="required fill" /></td>
										<td class="tlabel required">Month</td>
										<td class="tvalue"><input type="text" id="month" name="month" class="required fill" /></td>
										<td class="tlabel required">Day</td>
										<td class="tvalue"><input type="text" id="day" name="day" class="required fill" /></td>
									</tr>	
									<tr>
										<td class="tlabel required">Hour</td>
										<td class="tvalue"><input type="text" id="hour" name="hour" class="required fill" /></td>
										<td class="tlabel required">Minute</td>
										<td class="tvalue"><input type="text" id="minute" name="minute" class="required fill" /></td>
										<td class="tlabel required">Usable</td>
										<td class="tvalue">
											<select id="usable" name="usable" class="input-xs required" style="width: 100%;">
												<option value="">Choose Usable</option>
												<option value="true">True</option>
												<option value="false">False</option>
											</select>
										</td>
									</tr>
								</tbody>
							</table>					
						</div>
					</div>				
				</div>
				
				<div class="jarviswidget jarviswidget-color-blueDark simplmargin" id="wid-id-schedule-head" data-widget-colorbutton="false" data-widget-editbutton="false">    		
	    			<header>
						<span class="widget-icon"> <i class="fa fa-info"></i> </span>
						<h2>Movie Crawler Infomation</h2>
					</header>	
								
					<div>
						<div class="widget-body no-padding">
							<div class="table-responsive table-fixed">
								<table id="scheduleDetailInfo" class="table table-bordered" style="clear: both">
								<tbody>
									<tr>
										<td class="tlabel required">MovieListUrl</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="movieListUrl" name="movieListUrl" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">MovieUrlAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="movieUrlAtrb" name="movieUrlAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel">RemoveAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="removeAtrb" name="removeAtrb" class="fill"/>
										</td>
									</tr>
									<tr>
										<td class="tlabel required">MovieKey</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="movieKey" name="movieKey" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">TitleAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="titleAtrb" name="titleAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">OrgTitleAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="orgTitleAtrb" name="orgTitleAtrb" class="required fill" />
										</td>	
									</tr>
									<tr>
										<td class="tlabel required">ScoreAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="scoreAtrb" name="scoreAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">RunTimeAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="runTimeAtrb" name="runTimeAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">GenreAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="genreAtrb" name="genreAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">NationAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="nationAtrb" name="nationAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">GradeAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="gradeAtrb" name="gradeAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">OpenDayAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="openDayAtrb" name="openDayAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">SynopsisAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="synopsisAtrb" name="synopsisAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">MakingNoteAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="makingNoteAtrb" name="makingNoteAtrb" class="required fill" />
										</td>
									</tr>
								</tbody>
							</table>	
							</div>
						</div>
					</div>				
	    		</div>	    
	    		
	    		<div class="jarviswidget jarviswidget-color-blueDark simplmargin" id="wid-id-schedule-head" data-widget-colorbutton="false" data-widget-editbutton="false">    		
	    			<header>
						<span class="widget-icon"> <i class="fa fa-info"></i> </span>
						<h2>Person Crawler Infomation</h2>
					</header>	
								
					<div>
						<div class="widget-body no-padding">
							<div class="table-responsive table-fixed">
								<table id="scheduleDetailInfo" class="table table-bordered" style="clear: both;">
								<tbody>
									<tr>
										<td class="tlabel required">PersonUrl</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="personUrl" name="personUrl" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">FilmoUrl</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="filmoUrl" name="filmoUrl" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">ActorAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="actorAtrb" name="actorAtrb" class="required fill" />
										</td>	
									</tr>
									<tr>
										<td class="tlabel required">RoleAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="roleAtrb" name="roleAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">DirectorAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="directorAtrb" name="directorAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">CrewNameAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="crewNameAtrb" name="crewNameAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">CrewProfileAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="crewProfileAtrb" name="crewProfileAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">CrewBirthdayAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="crewBirthdayAtrb" name="crewBirthdayAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">FilmoListAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="filmoListAtrb" name="filmoListAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">FilmoTitleAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="filmoTitleAtrb" name="filmoTitleAtrb" class="required fill" />
										</td>
									</tr>
									<tr>
										<td class="tlabel required">FilmoYearAtrb</td>
										<td class="tvalue" colspan="5">
											<input type="text" id="filmoYearAtrb" name="filmoYearAtrb" class="required fill" />
										</td>
									</tr>
								</tbody>
							</table>	
							</div>
						</div>
					</div>				
	    		</div> 		
	    	</article>    	
	    </div>
    </form>
</div>

<div class="modal-footer">
	<button type="button" class="btn btn-default" id="save">Save</button>
    <button type="button" class="btn btn-default" data-dismiss="modal" id="close">Close</button>
</div>

<script type="text/javascript">
	$(document).ready(function() {
		$("#saveForm").validate();
		
		if("[[${params.id}]]" != 0) {
			$.get("/rest/schedule/info/[[${params.id}]]").done(function(resp) { 
			    if(resp.success) {
			    	var data = resp.data;
			    	
			    	$("#id").val(data.id);
			    	$("#scheduleName").val(data.scheduleName);
			    	$("#week").val(data.week);
			    	$("#month").val(data.month);
			    	$("#day").val(data.day);
			    	$("#hour").val(data.hour);
			    	$("#minute").val(data.minute);

					if(data.usable) {
						$("#usable").val("true");	
					} else {
						$("#usable").val("false");
					}
			    	
			    	$("#movieListUrl").val(data.movieListUrl);
			    	$("#movieUrlAtrb").val(data.movieUrlAtrb);
			    	$("#removeAtrb").val(data.removeAtrb);
			    	$("#movieKey").val(data.movieKey);
			    	$("#titleAtrb").val(data.titleAtrb);
			    	$("#orgTitleAtrb").val(data.orgTitleAtrb);
			    	$("#scoreAtrb").val(data.scoreAtrb);
			    	$("#runTimeAtrb").val(data.runTimeAtrb);
			    	$("#genreAtrb").val(data.genreAtrb);
			    	$("#nationAtrb").val(data.nationAtrb);
			    	$("#gradeAtrb").val(data.gradeAtrb);
			    	$("#openDayAtrb").val(data.openDayAtrb);
			    	$("#synopsisAtrb").val(data.synopsisAtrb);
			    	$("#makingNoteAtrb").val(data.makingNoteAtrb);
			    	
			    	$("#personUrl").val(data.personUrl);
			    	$("#filmoUrl").val(data.filmoUrl);
			    	$("#actorAtrb").val(data.actorAtrb);
			    	$("#roleAtrb").val(data.roleAtrb);
			    	$("#directorAtrb").val(data.directorAtrb);
			    	$("#crewNameAtrb").val(data.crewNameAtrb);
			    	$("#crewProfileAtrb").val(data.crewProfileAtrb);
			    	$("#crewBirthdayAtrb").val(data.crewBirthdayAtrb);
			    	$("#filmoListAtrb").val(data.filmoListAtrb);
			    	$("#filmoTitleAtrb").val(data.filmoTitleAtrb);
			    	$("#filmoYearAtrb").val(data.filmoYearAtrb);
			    } else {
			    	alert(resp.message);
			    }
			});
		}
	});
	
	$("#save").click(function(){
		if($('#saveForm').valid()){
			if(confirm('Save?')) {
	 			$.post("/rest/schedule/save", $("#saveForm").serialize()).done(function(resp) {
	 				if(resp.success) {
	 					alert(resp.message);
	 					location.reload();
	 				} else {
	 			    	alert(resp.message);
	 			    }
	 			});
	 		}
		}	
	});
	
	$("#close").click(function(){
		if("[[${params.id}]]" != 0) {
			$('#schedule_modify_modal').modal('hide').find('.modal-content').empty();
			$('#schedule_view_modal').modal('show').find('.modal-content').load('/page', {
				url : 'view/remote/schedule_view_modal.html',
				id : "[[${params.id}]]"
			});
		}
	});
</script>

</html>
